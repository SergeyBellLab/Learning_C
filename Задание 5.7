/*
 ============================================================================
 Name        : Задание 5.7
 Author      : 
 Version     :
 Copyright   : Your copyright notice
 Description : Hello World in C, Ansi-style
 ============================================================================
 */

/*
Для одномерного целочисленного массива из N элементов с помощью функций найти количество отрицательных элементов кратных 7 в четных столбцах массива,
максимальный отрицательный элемент кратный 3, индекс минимального четного элемента. Использовать только локальные переменные.
 */
#include <stdio.h>  // Подключаем библиотеку для ввода-вывода
#include <limits.h> // Подключаем библиотеку для работы с константами типа INT_MIN

// Функция подсчета отрицательных элементов, кратных 7, в четных столбцах
int count_neg_multiples_of_7_even_cols(int arr[], int n) {
    int count = 0;  // Локальная переменная-счетчик подходящих элементов
    for (int i = 0; i < n; i++) {  // Цикл по всем элементам массива
        if ((i+1) % 2 == 0) {  // Проверяем, является ли индекс четным
            if (arr[i] < 0 && arr[i] % 7 == 0) {  // Проверяем отрицательность и кратность 7
                count++;  // Увеличиваем счетчик
            }
        }
    }
    return count;  // Возвращаем количество найденных элементов
}

// Функция поиска максимального отрицательного элемента, кратного 3
int find_max_neg_multiple_of_3(int arr[], int n) {
    int max_val = INT_MIN;  // Инициализируем максимум минимальным возможным значением
    for (int i = 0; i < n; i++) {  // Перебираем все элементы массива
        if (arr[i] < 0 && arr[i] % 3 == 0) {  // Если элемент отрицательный и кратен 3
            if (arr[i] > max_val) {  // Сравниваем с текущим максимумом
                max_val = arr[i];  // Обновляем максимум
            }
        }
    }
    return (max_val == INT_MIN) ? 0 : max_val;  // Возвращаем 0, если не найдено, иначе максимум
}

// Функция поиска индекса минимального четного элемента
int find_min_even_index(int arr[], int n) {
    int min_val = INT_MAX;  // Инициализируем минимум максимальным возможным значением
    int min_index = -1;  // Индекс минимального четного элемента (-1 если не найден)
    for (int i = 0; i < n; i++) {  // Перебираем все элементы массива
        if (arr[i] % 2 == 0) {  // Проверяем четность элемента
            if (arr[i] < min_val) {  // Если найден меньший четный элемент
                min_val = arr[i];  // Обновляем значение минимума
                min_index = i;  // Запоминаем его индекс
            }
        }
    }
    return min_index;  // Возвращаем индекс или -1 если четных элементов нет
}

int main() {
    int n;  // Локальная переменная для размера массива
    printf("Введите размер массива N: ");  // Выводим приглашение для ввода
    scanf("%d", &n);  // Считываем размер массива

    int arr[100];  // Локальный массив максимального размера 100 элементов
    printf("Введите %d элементов массива:\n", n);  // Приглашение для ввода элементов
    for (int i = 0; i < n; i++) {  // Цикл ввода элементов
        scanf("%d", &arr[i]);  // Считываем очередной элемент
    }

    // Вызываем функции и выводим результаты
    int count7 = count_neg_multiples_of_7_even_cols(arr, n);  // Считаем отрицательные кратные 7 в четных столбцах
    int max_neg3 = find_max_neg_multiple_of_3(arr, n);  // Находим максимальный отрицательный кратный 3
    int min_even_idx = find_min_even_index(arr, n);  // Находим индекс минимального четного

    // Выводим результаты
    printf("\nРезультаты:\n");  // Заголовок результатов
    printf("1. Отрицательных элементов кратных 7 в четных столбцах: %d\n", count7);  // Первый результат
    printf("2. Максимальный отрицательный элемент кратный 3: %d\n", max_neg3);  // Второй результат
    if (min_even_idx != -1) {  // Проверяем, найден ли четный элемент
        printf("3. Индекс минимального четного элемента: %d (значение: %d)\n", min_even_idx, arr[min_even_idx]);  // Третий результат
    } else {
        printf("3. Четных элементов в массиве нет\n");  // Сообщение если четных нет
    }

    return 0;  // Завершаем программу успешно
}
