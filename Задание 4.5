/*
 ============================================================================
 Name        : Задание 4.5
 Author      : 
 Version     :
 Copyright   : Your copyright notice
 Description : Hello World in C, Ansi-style
 ============================================================================
 */

#include <stdio.h>  // Подключаем библиотеку для ввода-вывода (printf, scanf)

// Основная функция программы, точка входа
int main() {

    int n;  // Переменная для хранения размера массива

    // Выводим приглашение для ввода размера массива
    printf("Введите размер массива: ");

    // Считываем размер массива с клавиатуры
    scanf("%d", &n);

    int arr[n];  // Объявляем одномерный массив размером n (VLA - переменная длина)

    // Выводим приглашение для ввода элементов массива
    printf("Введите %d элементов массива:\n", n);

    // Цикл для ввода элементов массива
    for (int i = 0; i < n; i++) {
        printf("arr[%d] = ", i);  // Показываем индекс текущего элемента
        scanf("%d", &arr[i]);     // Считываем элемент в массив
    }

    // Выводим массив ДО перестановок
    printf("\nМассив ДО перестановок: ");
    for (int i = 0; i < n; i++) {
        printf("%d ", arr[i]);  // Выводим каждый элемент массива
    }
    printf("\n");

    // Основной алгоритм перестановок: каждый ТРЕТИЙ элемент меняем с ПРЕДЫДУЩИМ
    // Перестановка происходит только ОДИН раз для каждой пары
    for (int i = 2; i < n; i += 3) { //начинаем с индекса 2, с шагом 3 - каждый третий элемент
            int temp = arr[i - 1];      // Сохраняем предыдущий элемент во временную переменную
            arr[i - 1] = arr[i];        // Предыдущий получает значение третьего
            arr[i] = temp;              // Третий получает значение предыдущего

    }

    // Выводим массив ПОСЛЕ перестановок
    printf("Массив ПОСЛЕ перестановок: ");
    for (int i = 0; i < n; i++) {
        printf("%d ", arr[i]);  // Выводим измененный массив
    }
    printf("\n");

    return 0;  // Завершаем программу успешно
}

