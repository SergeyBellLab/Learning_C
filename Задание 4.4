/*
 ============================================================================
 Name        : Задание 4.4
 Author      : 
 Version     :
 Copyright   : Your copyright notice
 Description : Hello World in C, Ansi-style
 ============================================================================
 */

#include <stdio.h>  // Подключаем библиотеку для работы с функциями ввода-вывода

#define N 7  // Определяем размер квадратного массива (7x7 для примера, чтобы был четкий средний столбец)

void printArray(int arr[N][N]);  // Объявляем функцию для вывода массива на экран

int main() {
    int arr[N][N];  // Создаем двумерный квадратный массив размером N x N

    // Заполняем массив числами от 1 до N*N для наглядности
    int value = 1;  // Переменная для хранения текущего значения
    for(int i = 0; i < N; i++) {  // Проходим по всем строкам массива
        for(int j = 0; j < N; j++) {  // Проходим по всем столбцам в текущей строке
            arr[i][j] = value++;  // Записываем значение и увеличиваем счетчик
        }
    }

    printf("Исходный массив:\n");  // Выводим заголовок для исходного массива
    printArray(arr);  // Выводим массив до любых изменений

    // === ПЕРВЫЙ ОБМЕН: последняя строка (N-1) <-> 4-я строка (индекс 3) ===
    printf("\n--- Обмен последней строки (№%d) и 4-й строки ---\n", N);  // Заголовок первого обмена
    for(int j = 0; j < N; j++) {  // Проходим по всем столбцам
        int temp = arr[N-1][j];  // Сохраняем элемент из последней строки во временную переменную
        arr[N-1][j] = arr[3][j];  // Копируем элемент из 4-й строки в последнюю
        arr[3][j] = temp;  // Копируем сохраненный элемент из последней строки в 4-ю
    }
    printf("Массив после первого обмена:\n");  // Заголовок результата первого обмена
    printArray(arr);  // Выводим массив после первого обмена

    // === ВТОРОЙ ОБМЕН: средний столбец <-> 1-я строка ===
    printf("\n--- Обмен среднего столбца (№%d) и 1-й строки (№1) ---\n", (N/2)+1);  // Заголовок второго обмена
    for(int i = 0; i < N; i++) {  // Проходим по всем строкам
        int temp = arr[i][N/2];  // Сохраняем элемент из среднего столбца (индекс N/2) во временную переменную
        arr[i][N/2] = arr[0][i];  // Копируем элемент из 1-й строки в средний столбец
        arr[0][i] = temp;  // Копируем сохраненный элемент из среднего столбца в 1-ю строку
    }
    printf("Массив после второго обмена:\n");  // Заголовок финального результата
    printArray(arr);  // Выводим финальный массив

    return 0;
}

void printArray(int arr[N][N]) {
    for(int i = 0; i < N; i++) {
        for(int j = 0; j < N; j++) {
            printf("%3d ", arr[i][j]);
        }
        printf("\n");
    }
    printf("\n");
}

