/*
 ============================================================================
 Name        : задание.c
 Author      : 
 Version     :
 Copyright   : Your copyright notice
 Description : Hello World in C, Ansi-style
 ============================================================================
 */

#include <stdio.h>          // Подключаем библиотеку для работы с вводом-выводом

int main() {
    int n = 10;             // Объявляем размер массива (10 элементов)
    int arr[10] = {64, 34, 25, 12, 22, 11, 90, 5, 7, 8};  // Объявляем и заполняем массив значениями

    printf("Исходный массив: ");  // Выводим заголовок для исходного массива
    for(int i = 0; i < n; i++) {  // Цикл для вывода всех элементов массива
        printf("%d ", arr[i]);    // Выводим текущий элемент массива
    }
    printf("\n");             // Перевод строки после вывода массива

    int sort_type;            // Объявляем переменную для хранения типа сортировки
    printf("Выберите способ сортировки:\n");  // Выводим инструкцию пользователю
    printf("1 - по возрастанию\n");           // Описание первого варианта
    printf("2 - по убыванию\n");              // Описание второго варианта
    printf("Ваш выбор: ");                    // Запрос ввода у пользователя
    scanf("%d", &sort_type);                  // Считываем выбор сортировки с клавиатуры

    // Пузырьковая сортировка (Bubble Sort)
    for(int i = 0; i < n - 1; i++) {          // Внешний цикл: количество проходов
        for(int j = 0; j < n - i - 1; j++) {  // Внутренний цикл: сравниваем соседние элементы
            int swap = 0;                     // Флаг для определения необходимости обмена

            if(sort_type == 1) {              // Если выбрана сортировка по возрастанию
                if(arr[j] > arr[j + 1])       // Сравниваем текущий элемент с следующим
                    swap = 1;                 // Устанавливаем флаг обмена
            }
            else if(sort_type == 2) {         // Если выбрана сортировка по убыванию
                if(arr[j] < arr[j + 1])       // Сравниваем текущий элемент с следующим
                    swap = 1;                 // Устанавливаем флаг обмена
            }

            if(swap) {                        // Если требуется обмен элементами
                int temp = arr[j];            // Сохраняем текущий элемент во временную переменную
                arr[j] = arr[j + 1];          // Перемещаем следующий элемент на место текущего
                arr[j + 1] = temp;            // Помещаем сохраненный элемент на место следующего
            }
        }
    }

    printf("Отсортированный массив: ");        // Выводим заголовок для отсортированного массива
    for(int i = 0; i < n; i++) {              // Цикл для вывода отсортированного массива
        printf("%d ", arr[i]);                // Выводим текущий элемент массива
    }
    printf("\n\n");                           // Двойной перевод строки для разделения вывода

    // Поиск элементов, оставшихся на своих местах
    printf("Элементы, оставшиеся на своих местах:\n");  // Заголовок для результата поиска
    int fixed_count = 0;                      // Счетчик неподвижных элементов

    for(int i = 0; i < n; i++) {              // Проходим по всем элементам массива
        // Создаем временную копию исходного массива для сравнения
        int original[10] = {64, 34, 25, 12, 22, 11, 90, 5, 7, 8};
        if(arr[i] == original[i]) {           // Сравниваем текущий элемент с исходным
            printf("Позиция %d: значение %d\n", i + 1, arr[i]);  // Выводим позицию и значение
            fixed_count++;                    // Увеличиваем счетчик неподвижных элементов
        }
    }

    if(fixed_count == 0) {                    // Проверяем, были ли найдены неподвижные элементы
        printf("Нет элементов, оставшихся на своих местах.\n");  // Сообщение если ничего не найдено
    }

    return 0;                                 // Завершаем программу успешно
}

